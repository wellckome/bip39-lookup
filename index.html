<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BIP39 Lookup</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="top-block">
    <div class="separator"></div>
    <p class="frase-topo">Ferramenta para consulta da lista BIP39</p>
    <div class="separator"></div>
  </div>

  <div class="container">
  <h1>BIP39 Lookup</h1>

  <!-- Botões para alternar pesquisa -->
  <div class="switch">
    <button onclick="mostrarNumero()">Pesquisar por número</button>
    <button onclick="mostrarPalavra()">Pesquisar por palavra</button>
  </div>

  <!-- Bloco número -->
  <div id="blocoNumero">
    <input id="numberInput" type="number" placeholder="Digite um número entre 1–2048" />
    <div id="result">Digite um número e pressione Enter</div>
  </div>

  <!-- Bloco palavra -->
  <div id="blocoPalavra" style="display:none;">
    <input id="wordInput" type="text" placeholder="Digite uma palavra BIP39" />
    <div id="wordResult">Digite uma palavra e pressione Enter</div>
  </div>

  <!-- Observação dinâmica -->
  <div id="observacao">
    <p>⚡ Na pesquisa por número, você vai digitar o número correspondente à sua seed phrase para restaurar sua carteira.</p>
   <br>
    <p>⚡ Ou seja, na prática você guardará uma série de números que não te dá correspondência com seed phrase, guarde-as como milhar da loteria.</p>
    <br>
    <p>⚡ Lembre-se , o ideal e que você tenha uma hidden wallet , pois sua passphase está fora do bip39.</p>
  </div>
</div>


  <script>
    // Alternância entre blocos e observação
    function mostrarNumero() {
      document.getElementById('blocoNumero').style.display = 'block';
      document.getElementById('blocoPalavra').style.display = 'none';
      document.getElementById('observacao').style.display = 'block';
      document.getElementById('observacao').textContent =
        "⚡ Na pesquisa por número, você vai digitar o número correspondente à sua seed phrase para restaurar sua carteira.";
    }

    function mostrarPalavra() {
  document.getElementById('blocoNumero').style.display = 'none';
  document.getElementById('blocoPalavra').style.display = 'block';
  document.getElementById('observacao').style.display = 'block';
  document.getElementById('observacao').innerHTML =
    "<p>⚡ Na pesquisa por palavra, você vai digitar a palavra correspondente à sua seed phrase para fazer backup dos números.</p>" +
    "<p>⚡ Ou seja, na prática você guardará uma série de números que não te dá correspondência com seed phrase, a menos que seja divulgada guarde-as como milhar da loteria.</p>";
}


    // Eventos Enter
    const input = document.getElementById('numberInput');
    const result = document.getElementById('result');
    const wordInput = document.getElementById('wordInput');
    const wordResult = document.getElementById('wordResult');

    function pesquisar() {
      const num = parseInt(input.value, 10);
      result.classList.remove("valid", "invalid");

      if (!isNaN(num) && num >= 1 && num <= words.length - 1) {
        result.textContent = `${num} → ${words[num]}`;
        result.classList.add("valid");
      } else {
        result.textContent = "Número inválido. Digite entre 1 e 2048.";
        result.classList.add("invalid");
      }
      input.value = '';
      input.focus();
    }

    function pesquisarPalavra() {
      const palavra = wordInput.value.trim().toLowerCase();
      wordResult.classList.remove("valid", "invalid");

      const index = words.indexOf(palavra);
      if (index !== -1) {
        wordResult.textContent = `${palavra} → número ${index}`;
        wordResult.classList.add("valid");
      } else {
        wordResult.textContent = "Palavra inválida. Digite uma palavra da lista BIP39.";
        wordResult.classList.add("invalid");
      }
      wordInput.value = '';
      wordInput.focus();
    }

    input.addEventListener('keydown', e => {
      if (e.key === 'Enter') pesquisar();
    });

    wordInput.addEventListener('keydown', e => {
      if (e.key === 'Enter') pesquisarPalavra();
    });
  </script>
</body>
</html>
